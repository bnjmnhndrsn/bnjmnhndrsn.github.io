<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
  <ModulePrefs title="hello world example" /> 
  <Content type="html">
      <script type="text/javascript">
!function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var d="function"==typeof require&&require;if(!a&&d)return d(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[o]={exports:{}};t[o][0].call(h.exports,function(e){var i=t[o][1][e];return s(i?i:e)},h,h.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){(function(e){(function(e,t,i,n,s){!function(t){"function"==typeof n&&n.amd?n(t):"undefined"!=typeof e&&e.exports?e.exports=t():window.pym=t.call(this)}(function(){var e="xPYMx",t={},i=function(e){var t=new RegExp("[\\?&]"+e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),i=t.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},n=function(e,t){return"*"===t.xdomain||e.origin.match(new RegExp(t.xdomain+"$"))?!0:void 0},s=function(e,t,i){document.addEventListener?window.addEventListener(e,t,i):(e="on"+e,window.attachEvent(e,t))},r=function(t,i,n){var s=["pym",t,i,n];return s.join(e)},o=function(t){var i=["pym",t,"(\\S+)","(.+)"];return new RegExp("^"+i.join(e)+"$")},a=function(){for(var e=document.querySelectorAll("[data-pym-src]"),i=e.length,n=0;i>n;++n){var s=e[n];if(null===s.getAttribute("data-pym-auto-initialized")){s.setAttribute("data-pym-auto-initialized",""),""===s.id&&(s.id="pym-"+n);var r=s.getAttribute("data-pym-src"),o=s.getAttribute("data-pym-xdomain"),a={};o&&(a.xdomain=o),new t.Parent(s.id,r,a)}}};return t.Parent=function(e,t,i){this.id=e,this.url=t,this.el=document.getElementById(e),this.iframe=null,this.settings={xdomain:"*"},this.messageRegex=o(this.id),this.messageHandlers={},this._constructIframe=function(){var e=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var t="",i=this.url.indexOf("#");i>-1&&(t=this.url.substring(i,this.url.length),this.url=this.url.substring(0,i)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+e+"&childId="+this.id+t,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.el.appendChild(this.iframe);var n=this;s("resize",function(){n.sendWidth()})},this._fire=function(e,t){if(e in this.messageHandlers)for(var i=0;i<this.messageHandlers[e].length;i++)this.messageHandlers[e][i].call(this,t)},this._processMessage=function(e){if(n(e,this.settings)){var t=e.data.match(this.messageRegex);if(!t||3!==t.length)return!1;var i=t[1],s=t[2];this._fire(i,s)}},this._onHeightMessage=function(e){var t=parseInt(e);this.iframe.setAttribute("height",t+"px")},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this.sendMessage=function(e,t){this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(r(this.id,e,t),"*")},this.sendWidth=function(){var e=this.el.offsetWidth.toString();this.sendMessage("width",e)};for(var a in i)this.settings[a]=i[a];this.onMessage("height",this._onHeightMessage);var d=this;return s("message",function(e){return d._processMessage(e)},!1),this._constructIframe(),this},t.Child=function(t){this.parentWidth=null,this.id=null,this.settings={renderCallback:null,xdomain:"*",polling:0},this.messageRegex=null,this.messageHandlers={},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this._fire=function(e,t){if(e in this.messageHandlers)for(var i=0;i<this.messageHandlers[e].length;i++)this.messageHandlers[e][i].call(this,t)},this._processMessage=function(e){if(n(e,this.settings)){var t=e.data.match(this.messageRegex);if(t&&3===t.length){var i=t[1],s=t[2];this._fire(i,s)}}},this.sendMessage=function(e,t){window.parent.postMessage(r(this.id,e,t),"*")},this.sendHeight=function(){var e=document.getElementsByTagName("body")[0].offsetHeight.toString();d.sendMessage("height",e)},this._onWidthMessage=function(e){var t=parseInt(e);t!==this.parentWidth&&(this.parentWidth=t,this.settings.renderCallback&&this.settings.renderCallback(t),this.sendHeight())},this.id=i("childId")||t.id,this.messageRegex=new RegExp("^pym"+e+this.id+e+"(\\S+)"+e+"(.+)$");var o=parseInt(i("initialWidth"));this.onMessage("width",this._onWidthMessage);for(var a in t)this.settings[a]=t[a];var d=this;return s("message",function(e){d._processMessage(e)},!1),this.settings.renderCallback&&this.settings.renderCallback(o),this.sendHeight(),this.settings.polling&&window.setInterval(this.sendHeight,this.settings.polling),this},a(),t}),s("undefined"!=typeof pym?pym:window.pym)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){var n=e("pym.js");document.addEventListener("DOMContentLoaded",function(){window.offset=function(e){for(var t=0;e;)t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t}(document.querySelectorAll("iframe")[0]),document.removeEventListener("DOMContentLoaded",arguments.callee)},!1),window.NestioFrame=function(e,t){function i(e){var t="";return Object.keys(e).forEach(function(i){e[i].constructor===Array?e[i].forEach(function(e){t+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e)}):t+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i])}),t}function s(e){var t=document.getElementById("nestio-iframe-pym"),i=document.getElementById("nestio-iframe-pym").firstChild;"open"===e?(t.style.position="fixed",t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0,t.style.zIndex=2147483647,i.style.height="100%"):"close"===e&&(t.style.position="",t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",t.style.zIndex=0,i.style.height="")}function r(){function t(e){var t=e.data.split("xPYMx").slice(2);"location_update"===t[0]?"save_scroll"===t[1]?window.scrollLocation=window.scrollY:"detail_view"===t[1]?window.scrollTo(0,window.offset-40):"listing_view"===t[1]&&setTimeout(function(){window.scrollTo(0,window.scrollLocation)},100):"lightbox"===t[0]&&s(t[1])}var r=e+"/listings/?iframe=true";d.listing_type&&"undefined"==typeof d.hide_listing_type_field&&(d.hide_listing_type_field=!0),r+=i(d);var o=document.getElementById("nestio-frame"),l=document.createElement("div");o.parentNode.insertBefore(l,o),l.id="nestio-iframe-pym",a=new n.Parent(l.id,r,{}),window.scrollLocation=0,window.addEventListener("message",t,!1)}var o={},a=null,d=t||{};return r(),o}},{"pym.js":1}]},{},[2]);
     NestioFrame('http://idx-test.urbanapt.com');
 </script>
  </Content> 
</Module>
